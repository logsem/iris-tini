<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../README.html">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">logrel_ifc.lambda_sec.rules_unary</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.base_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">gen_heap</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.program_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">language</span> <span class="id" title="library">ectx_language</span> <span class="id" title="library">ectxi_language</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">tactics</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">IC.if_convergent</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">IC</span> <span class="id" title="library">ICTriple</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">IC.if_convergent.derived</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">IC_step_fupd</span> <span class="id" title="library">IC_fupd</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">logrel_ifc.lambda_sec</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="logrel_ifc.lambda_sec.lang.html#"><span class="id" title="library">lang</span></a> <a class="idref" href="logrel_ifc.lambda_sec.lattice.html#"><span class="id" title="library">lattice</span></a>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="secG_un"><span class="id" title="record">secG_un</span></a> <span class="id" title="var">Σ</span> := <a name="SecG_un"><span class="id" title="constructor">SecG_un</span></a> {<br/>
&nbsp;&nbsp;<a name="secG_un_invG"><span class="id" title="projection">secG_un_invG</span></a> :&gt; <span class="id" title="class">invG</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>;<br/>
&nbsp;&nbsp;<a name="secG_un_gen_heapG"><span class="id" title="projection">secG_un_gen_heapG</span></a> :&gt; <span class="id" title="class">gen_heapG</span> <a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.loc"><span class="id" title="definition">loc</span></a> <a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "umods" := <span class="id" title="tactic">rewrite</span> /<span class="id" title="method">ICC_modality</span> /<span class="id" title="projection">ICD_modality</span>; <span class="id" title="var">cbn</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_head_step</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">progress</span> <span class="id" title="var">simplify_map_eq</span>/= <span class="comment">(*&nbsp;simplify&nbsp;memory&nbsp;stuff&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.to_val"><span class="id" title="definition">to_val</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.of_to_val"><span class="id" title="lemma">of_to_val</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.head_step"><span class="id" title="inductive">head_step</span></a> ?<span class="id" title="var">e</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="var">is_var</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">fail</span> 1);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Local Hint Extern</span> 1 (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.head_step"><span class="id" title="inductive">head_step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">econstructor</span> : <span class="id" title="var">core</span>.<br/>
<span class="id" title="keyword">Local Hint Extern</span> 0 (<span class="id" title="definition">head_reducible</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>; <span class="id" title="tactic">simpl</span> : <span class="id" title="var">core</span>.<br/>
<span class="id" title="keyword">Local Hint Resolve</span> <span class="id" title="var">to_of_val</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">solve_exec_safe</span> := <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">solve_exec_puredet</span> := <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">by</span> <span class="id" title="var">inv_head_step</span>.<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">solve_pure_exec</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="class">IntoVal</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span> : <span class="id" title="class">AsVal</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [??] <span class="id" title="keyword">end</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">nsteps_once</span>, <span class="id" title="lemma">pure_head_step_pure_step</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [<span class="id" title="var">solve_exec_safe</span> | <span class="id" title="var">solve_exec_puredet</span>].<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="pure_lam"><span class="id" title="instance">pure_lam</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> `{!<span class="id" title="class">AsVal</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e2"><span class="id" title="variable">e2</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.App"><span class="id" title="constructor">App</span></a> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Lam"><span class="id" title="constructor">Lam</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e1"><span class="id" title="variable">e1</span></a>) <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e2"><span class="id" title="variable">e2</span></a>) <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e1"><span class="id" title="variable">e1</span></a><span class="id" title="notation">.[</span><a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e2"><span class="id" title="variable">e2</span></a> <span class="id" title="notation">/]</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="pure_LetIn"><span class="id" title="instance">pure_LetIn</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> `{!<span class="id" title="class">AsVal</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e1"><span class="id" title="variable">e1</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.LetIn"><span class="id" title="constructor">LetIn</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e2"><span class="id" title="variable">e2</span></a>) <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e2"><span class="id" title="variable">e2</span></a><span class="id" title="notation">.[</span><a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e1"><span class="id" title="variable">e1</span></a> <span class="id" title="notation">/]</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="pure_seq"><span class="id" title="instance">pure_seq</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> `{!<span class="id" title="class">AsVal</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e1"><span class="id" title="variable">e1</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Seq"><span class="id" title="constructor">Seq</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e2"><span class="id" title="variable">e2</span></a>) <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e2"><span class="id" title="variable">e2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="pure_binop"><span class="id" title="instance">pure_binop</span></a> <span class="id" title="var">op</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> :<br/>
&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.BinOp"><span class="id" title="constructor">BinOp</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#op"><span class="id" title="variable">op</span></a> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Nat"><span class="id" title="constructor">Nat</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#a"><span class="id" title="variable">a</span></a>) (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Nat"><span class="id" title="constructor">Nat</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#b"><span class="id" title="variable">b</span></a>)) (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#a22548b050acc8060e7bcc32c1623488"><span class="id" title="notation">#</span></a> <a class="idref" href="logrel_ifc.lambda_sec.lang.html#a22548b050acc8060e7bcc32c1623488"><span class="id" title="notation">(</span></a><a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.binop_eval"><span class="id" title="definition">binop_eval</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#op"><span class="id" title="variable">op</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="logrel_ifc.lambda_sec.lang.html#a22548b050acc8060e7bcc32c1623488"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="pure_if_true"><span class="id" title="instance">pure_if_true</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> :<br/>
&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.If"><span class="id" title="constructor">If</span></a> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Bool"><span class="id" title="constructor">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e2"><span class="id" title="variable">e2</span></a>) <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e1"><span class="id" title="variable">e1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="pure_if_false"><span class="id" title="instance">pure_if_false</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> :<br/>
&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.If"><span class="id" title="constructor">If</span></a> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Bool"><span class="id" title="constructor">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e2"><span class="id" title="variable">e2</span></a>) <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e2"><span class="id" title="variable">e2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="pure_fst"><span class="id" title="instance">pure_fst</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> `{!<span class="id" title="class">AsVal</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e1"><span class="id" title="variable">e1</span></a>, !<span class="id" title="class">AsVal</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e2"><span class="id" title="variable">e2</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Proj1"><span class="id" title="constructor">Proj1</span></a> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Pair"><span class="id" title="constructor">Pair</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e2"><span class="id" title="variable">e2</span></a>)) <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e1"><span class="id" title="variable">e1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="pure_snd"><span class="id" title="instance">pure_snd</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> `{!<span class="id" title="class">AsVal</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e1"><span class="id" title="variable">e1</span></a>, !<span class="id" title="class">AsVal</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e2"><span class="id" title="variable">e2</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Proj2"><span class="id" title="constructor">Proj2</span></a> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Pair"><span class="id" title="constructor">Pair</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e2"><span class="id" title="variable">e2</span></a>)) <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e2"><span class="id" title="variable">e2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="pure_case_inl"><span class="id" title="instance">pure_case_inl</span></a> <span class="id" title="var">e0</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> `{!<span class="id" title="class">AsVal</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e0"><span class="id" title="variable">e0</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Case"><span class="id" title="constructor">Case</span></a> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.InjL"><span class="id" title="constructor">InjL</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e0"><span class="id" title="variable">e0</span></a>) <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e2"><span class="id" title="variable">e2</span></a>) <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e1"><span class="id" title="variable">e1</span></a><span class="id" title="notation">.[</span><a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e0"><span class="id" title="variable">e0</span></a><span class="id" title="notation">/]</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="pure_case_inr"><span class="id" title="instance">pure_case_inr</span></a> <span class="id" title="var">e0</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> `{!<span class="id" title="class">AsVal</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e0"><span class="id" title="variable">e0</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Case"><span class="id" title="constructor">Case</span></a> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.InjR"><span class="id" title="constructor">InjR</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e0"><span class="id" title="variable">e0</span></a>) <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e2"><span class="id" title="variable">e2</span></a>) <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e2"><span class="id" title="variable">e2</span></a><span class="id" title="notation">.[</span><a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e0"><span class="id" title="variable">e0</span></a><span class="id" title="notation">/]</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="pure_case_tapp"><span class="id" title="instance">pure_case_tapp</span></a> <span class="id" title="var">e</span> :<br/>
&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.TApp"><span class="id" title="constructor">TApp</span></a> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.TLam"><span class="id" title="constructor">TLam</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e"><span class="id" title="variable">e</span></a>)) <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="pure_case_tlapp"><span class="id" title="instance">pure_case_tlapp</span></a> <span class="id" title="var">e</span> :<br/>
&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.TLApp"><span class="id" title="constructor">TLApp</span></a> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.TLLam"><span class="id" title="constructor">TLLam</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e"><span class="id" title="variable">e</span></a>)) <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="pure_unpackpack"><span class="id" title="instance">pure_unpackpack</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> `{!<span class="id" title="class">AsVal</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e1"><span class="id" title="variable">e1</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Unpack"><span class="id" title="constructor">Unpack</span></a> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Pack"><span class="id" title="constructor">Pack</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e1"><span class="id" title="variable">e1</span></a>) <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e2"><span class="id" title="variable">e2</span></a>) (<a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e2"><span class="id" title="variable">e2</span></a><span class="id" title="notation">.[</span><a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e1"><span class="id" title="variable">e1</span></a><span class="id" title="notation">/]</span>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="pure_fold"><span class="id" title="instance">pure_fold</span></a> <span class="id" title="var">e</span> `{!<span class="id" title="class">AsVal</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e"><span class="id" title="variable">e</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="class">PureExec</span> <span class="id" title="notation">True</span> 1 (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Unfold"><span class="id" title="constructor">Unfold</span></a> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Fold"><span class="id" title="constructor">Fold</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e"><span class="id" title="variable">e</span></a>)) <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#e"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_pure_exec</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">&quot;</span></a>l ↦{ q } v" := (<span class="id" title="definition">mapsto</span> (<span class="id" title="var">L</span>:=<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.loc"><span class="id" title="definition">loc</span></a>) (<span class="id" title="var">V</span>:=<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.val"><span class="id" title="inductive">val</span></a>) <span class="id" title="var">l</span> <span class="id" title="var">q</span> <span class="id" title="var">v</span>%<span class="id" title="var">V</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="var">q</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="var">format</span> "l  ↦{ q }  v") : <span class="id" title="var">bi_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">&quot;</span></a>l ↦ v" :=<br/>
&nbsp;&nbsp;(<span class="id" title="definition">mapsto</span> (<span class="id" title="var">L</span>:=<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.loc"><span class="id" title="definition">loc</span></a>) (<span class="id" title="var">V</span>:=<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.val"><span class="id" title="inductive">val</span></a>) <span class="id" title="var">l</span> 1 <span class="id" title="var">v</span>%<span class="id" title="var">V</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20) : <span class="id" title="var">bi_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="3bc001b4cea7e23249add88df8b37745"><span class="id" title="notation">&quot;</span></a>l ↦{ q } -" := (<span class="id" title="notation">∃</span> <span class="id" title="var">v</span><span class="id" title="notation">,</span> <span class="id" title="var">l</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">↦{</span></a><span class="id" title="var">q</span><a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">}</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#v"><span class="id" title="variable">v</span></a>)%<span class="id" title="var">I</span><br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="var">q</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="var">format</span> "l  ↦{ q }  -") : <span class="id" title="var">bi_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="f342fa5c410b6d400bb64e38fed7c38d"><span class="id" title="notation">&quot;</span></a>l ↦ -" := (<span class="id" title="var">l</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#3bc001b4cea7e23249add88df8b37745"><span class="id" title="notation">↦{</span></a>1<a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#3bc001b4cea7e23249add88df8b37745"><span class="id" title="notation">}</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#3bc001b4cea7e23249add88df8b37745"><span class="id" title="notation">-</span></a>)%<span class="id" title="var">I</span> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20) : <span class="id" title="var">bi_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="ic_lang_lemmas"><span class="id" title="section">ic_lang_lemmas</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#secG_un"><span class="id" title="class">secG_un</span></a> <span class="id" title="var">Σ</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="SI"><span class="id" title="definition">SI</span></a> (σ : <a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.state"><span class="id" title="definition">state</span></a>) : <span class="id" title="abbreviation">iProp</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#af9d27d8e7eb8e45cd3dfab14efcf07b"><span class="id" title="variable">Σ</span></a> := (<span class="id" title="definition">gen_heap_ctx</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>)%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ic_fupd_alloc"><span class="id" title="lemma">ic_fupd_alloc</span></a> <span class="id" title="var">E</span> <span class="id" title="var">v</span> <span class="id" title="var">Φ</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">{{|</span> <span class="id" title="notation">∀</span> <span class="id" title="var">l</span><span class="id" title="notation">,</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.LocV"><span class="id" title="constructor">LocV</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#l"><span class="id" title="variable">l</span></a>) 1 <span class="id" title="notation">|}}@{</span><span class="id" title="definition">icd_fupd</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#SI"><span class="id" title="definition">SI</span></a><span class="id" title="notation">}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Alloc"><span class="id" title="constructor">Alloc</span></a> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#a22548b050acc8060e7bcc32c1623488"><span class="id" title="notation">#</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#v"><span class="id" title="variable">v</span></a>) <span class="id" title="notation">@</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#E"><span class="id" title="variable">E</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">{{|</span> <span class="id" title="var">w</span> <span class="id" title="notation">;</span> <span class="id" title="var">n</span><span class="id" title="notation">,</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">|}}</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "_ !&gt; HΦ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="lemma">ic_fupd_lift_atomic_head_step'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1) "Hσ1".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<span class="id" title="lemma">fupd_intro_mask'</span> <span class="id" title="var">_</span> <span class="id" title="notation">∅</span>) <span class="id" title="keyword">as</span> "Hclose"; <span class="id" title="tactic">first</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iIntros</span> (<span class="id" title="var">v'</span> σ2 <span class="id" title="var">Hstep</span>); <span class="id" title="var">inv_head_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#a22548b050acc8060e7bcc32c1623488"><span class="id" title="notation">#</span></a> <span class="id" title="var">v'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="logrel_ifc.lambda_sec.lang.html#a22548b050acc8060e7bcc32c1623488"><span class="id" title="notation">#</span></a> <a class="idref" href="logrel_ifc.lambda_sec.lang.html#a22548b050acc8060e7bcc32c1623488"><span class="id" title="notation">(</span></a><a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.LocV"><span class="id" title="constructor">LocV</span></a> <span class="id" title="var">l</span><a class="idref" href="logrel_ifc.lambda_sec.lang.html#a22548b050acc8060e7bcc32c1623488"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span>@<span class="id" title="lemma">gen_heap_alloc</span> <span class="id" title="notation">with</span> "Hσ1"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "(Hσ &amp; Hl &amp; _)"; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> "Hclose"; <span class="id" title="var">iModIntro</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "HΦ".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ic_fupd_load"><span class="id" title="lemma">ic_fupd_load</span></a> <span class="id" title="var">E</span> <span class="id" title="var">l</span> <span class="id" title="var">q</span> <span class="id" title="var">v</span> <span class="id" title="var">Φ</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">{{|</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">↦{</span></a><a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">}</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">↦{</span></a><a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">}</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#v"><span class="id" title="variable">v</span></a> 1<span class="id" title="notation">)</span> <span class="id" title="notation">|}}@{</span><span class="id" title="definition">icd_fupd</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#SI"><span class="id" title="definition">SI</span></a><span class="id" title="notation">}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Load"><span class="id" title="constructor">Load</span></a> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Loc"><span class="id" title="constructor">Loc</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#l"><span class="id" title="variable">l</span></a>) <span class="id" title="notation">@</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#E"><span class="id" title="variable">E</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">{{|</span> <span class="id" title="var">w</span> <span class="id" title="notation">;</span> <span class="id" title="var">n</span><span class="id" title="notation">,</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">|}}</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "_ !&gt; [Hl HΦ]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="lemma">ic_fupd_lift_atomic_head_step'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1) "Hσ1".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<span class="id" title="lemma">fupd_intro_mask'</span> <span class="id" title="var">_</span> <span class="id" title="notation">∅</span>) <span class="id" title="keyword">as</span> "Hclose"; <span class="id" title="tactic">first</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span>@<span class="id" title="lemma">gen_heap_valid</span> <span class="id" title="notation">with</span> "Hσ1 Hl"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iIntros</span> (<span class="id" title="var">v'</span> σ2 <span class="id" title="var">Hstep</span>); <span class="id" title="var">inv_head_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> "Hclose"; <span class="id" title="var">iModIntro</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "HΦ".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ic_fupd_store"><span class="id" title="lemma">ic_fupd_store</span></a> <span class="id" title="var">E</span> <span class="id" title="var">l</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span> <span class="id" title="var">Φ</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">{{|</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#v'"><span class="id" title="variable">v'</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.UnitV"><span class="id" title="constructor">UnitV</span></a> 1<span class="id" title="notation">)</span> <span class="id" title="notation">|}}@{</span><span class="id" title="definition">icd_fupd</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#SI"><span class="id" title="definition">SI</span></a><span class="id" title="notation">}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Store"><span class="id" title="constructor">Store</span></a> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Loc"><span class="id" title="constructor">Loc</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#l"><span class="id" title="variable">l</span></a>) (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#a22548b050acc8060e7bcc32c1623488"><span class="id" title="notation">#</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#v'"><span class="id" title="variable">v'</span></a>) <span class="id" title="notation">@</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#E"><span class="id" title="variable">E</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">{{|</span> <span class="id" title="var">w</span> <span class="id" title="notation">;</span> <span class="id" title="var">n</span><span class="id" title="notation">,</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">|}}</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "_ !&gt; [Hl HΦ]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="lemma">ic_fupd_lift_atomic_head_step'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1) "Hσ1".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<span class="id" title="lemma">fupd_intro_mask'</span> <span class="id" title="var">_</span> <span class="id" title="notation">∅</span>) <span class="id" title="keyword">as</span> "Hclose"; <span class="id" title="tactic">first</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iIntros</span> (<span class="id" title="var">w</span> σ2 <span class="id" title="var">Hstep</span>); <span class="id" title="var">inv_head_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#a22548b050acc8060e7bcc32c1623488"><span class="id" title="notation">#</span></a> <span class="id" title="var">w</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="logrel_ifc.lambda_sec.lang.html#a22548b050acc8060e7bcc32c1623488"><span class="id" title="notation">#</span></a> <a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.UnitV"><span class="id" title="constructor">UnitV</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span>@<span class="id" title="lemma">gen_heap_update</span> <span class="id" title="notation">with</span> "Hσ1 Hl"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[$ Hl]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> "Hclose"; <span class="id" title="var">iModIntro</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "HΦ".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ic_step_fupd_alloc"><span class="id" title="lemma">ic_step_fupd_alloc</span></a> <span class="id" title="var">E</span> <span class="id" title="var">v</span> <span class="id" title="var">Φ</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">{{|</span> <span class="id" title="notation">▷</span> <span class="id" title="notation">∀</span> <span class="id" title="var">l</span><span class="id" title="notation">,</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.LocV"><span class="id" title="constructor">LocV</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#l"><span class="id" title="variable">l</span></a>) 1 <span class="id" title="notation">|}}@{</span><span class="id" title="definition">icd_step_fupd</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#SI"><span class="id" title="definition">SI</span></a><span class="id" title="notation">}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Alloc"><span class="id" title="constructor">Alloc</span></a> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#a22548b050acc8060e7bcc32c1623488"><span class="id" title="notation">#</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#v"><span class="id" title="variable">v</span></a>) <span class="id" title="notation">@</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#E"><span class="id" title="variable">E</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">{{|</span> <span class="id" title="var">w</span> <span class="id" title="notation">;</span> <span class="id" title="var">n</span><span class="id" title="notation">,</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">|}}</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "_ !&gt; HΦ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="lemma">ic_step_fupd_lift_atomic_head_step'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1) "Hσ1".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<span class="id" title="lemma">fupd_intro_mask'</span> <span class="id" title="var">_</span> <span class="id" title="notation">∅</span>) <span class="id" title="keyword">as</span> "Hclose"; <span class="id" title="tactic">first</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">iModIntro</span>. <span class="id" title="var">iIntros</span> (<span class="id" title="var">v'</span> σ2 <span class="id" title="var">Hstep</span>); <span class="id" title="var">inv_head_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#a22548b050acc8060e7bcc32c1623488"><span class="id" title="notation">#</span></a> <span class="id" title="var">v'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="logrel_ifc.lambda_sec.lang.html#a22548b050acc8060e7bcc32c1623488"><span class="id" title="notation">#</span></a> <a class="idref" href="logrel_ifc.lambda_sec.lang.html#a22548b050acc8060e7bcc32c1623488"><span class="id" title="notation">(</span></a><a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.LocV"><span class="id" title="constructor">LocV</span></a> <span class="id" title="var">l</span><a class="idref" href="logrel_ifc.lambda_sec.lang.html#a22548b050acc8060e7bcc32c1623488"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span>@<span class="id" title="lemma">gen_heap_alloc</span> <span class="id" title="notation">with</span> "Hσ1"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "(Hσ &amp; Hl &amp; _)"; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> "Hclose"; <span class="id" title="var">iModIntro</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "HΦ".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ic_step_fupd_load"><span class="id" title="lemma">ic_step_fupd_load</span></a> <span class="id" title="var">E</span> <span class="id" title="var">l</span> <span class="id" title="var">q</span> <span class="id" title="var">v</span> <span class="id" title="var">Φ</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">{{|</span> <span class="id" title="notation">▷</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">↦{</span></a><a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">}</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">▷</span> <span class="id" title="notation">(</span><a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">↦{</span></a><a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">}</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#v"><span class="id" title="variable">v</span></a> 1<span class="id" title="notation">)</span> <span class="id" title="notation">|}}@{</span><span class="id" title="definition">icd_step_fupd</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#SI"><span class="id" title="definition">SI</span></a><span class="id" title="notation">}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Load"><span class="id" title="constructor">Load</span></a> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Loc"><span class="id" title="constructor">Loc</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#l"><span class="id" title="variable">l</span></a>) <span class="id" title="notation">@</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#E"><span class="id" title="variable">E</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">{{|</span> <span class="id" title="var">w</span> <span class="id" title="notation">;</span> <span class="id" title="var">n</span><span class="id" title="notation">,</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">|}}</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "_ !&gt; [Hl HΦ]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="lemma">ic_step_fupd_lift_atomic_head_step'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1) "Hσ1".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<span class="id" title="lemma">fupd_intro_mask'</span> <span class="id" title="var">_</span> <span class="id" title="notation">∅</span>) <span class="id" title="keyword">as</span> "Hclose"; <span class="id" title="tactic">first</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span>@<span class="id" title="lemma">gen_heap_valid</span> <span class="id" title="notation">with</span> "Hσ1 Hl"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v'</span> σ2 <span class="id" title="var">Hstep</span>); <span class="id" title="var">inv_head_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> "Hclose"; <span class="id" title="var">iModIntro</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "HΦ".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ic_step_fupd_store"><span class="id" title="lemma">ic_step_fupd_store</span></a> <span class="id" title="var">E</span> <span class="id" title="var">l</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span> <span class="id" title="var">Φ</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">{{|</span> <span class="id" title="notation">▷</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">▷</span> <span class="id" title="notation">(</span><a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#v'"><span class="id" title="variable">v'</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.UnitV"><span class="id" title="constructor">UnitV</span></a> 1<span class="id" title="notation">)</span> <span class="id" title="notation">|}}@{</span><span class="id" title="definition">icd_step_fupd</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#SI"><span class="id" title="definition">SI</span></a><span class="id" title="notation">}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Store"><span class="id" title="constructor">Store</span></a> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.Loc"><span class="id" title="constructor">Loc</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#l"><span class="id" title="variable">l</span></a>) (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#a22548b050acc8060e7bcc32c1623488"><span class="id" title="notation">#</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#v'"><span class="id" title="variable">v'</span></a>) <span class="id" title="notation">@</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#E"><span class="id" title="variable">E</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">{{|</span> <span class="id" title="var">w</span> <span class="id" title="notation">;</span> <span class="id" title="var">n</span><span class="id" title="notation">,</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">|}}</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "_ !&gt; [Hl HΦ]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="lemma">ic_step_fupd_lift_atomic_head_step'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1) "Hσ1".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<span class="id" title="lemma">fupd_intro_mask'</span> <span class="id" title="var">_</span> <span class="id" title="notation">∅</span>) <span class="id" title="keyword">as</span> "Hclose"; <span class="id" title="tactic">first</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">iModIntro</span>. <span class="id" title="var">iIntros</span> (<span class="id" title="var">w</span> σ2 <span class="id" title="var">Hstep</span>); <span class="id" title="var">inv_head_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="logrel_ifc.lambda_sec.lang.html#a22548b050acc8060e7bcc32c1623488"><span class="id" title="notation">#</span></a> <span class="id" title="var">w</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="logrel_ifc.lambda_sec.lang.html#a22548b050acc8060e7bcc32c1623488"><span class="id" title="notation">#</span></a> <a class="idref" href="logrel_ifc.lambda_sec.lang.html#lambda_sec.UnitV"><span class="id" title="constructor">UnitV</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span>@<span class="id" title="lemma">gen_heap_update</span> <span class="id" title="notation">with</span> "Hσ1 Hl"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[$ Hl]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> "Hclose"; <span class="id" title="var">iModIntro</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "HΦ".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="logrel_ifc.lambda_sec.rules_unary.html#ic_lang_lemmas"><span class="id" title="section">ic_lang_lemmas</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
